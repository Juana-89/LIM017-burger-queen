{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\LIM017-burger-queen\\\\burger_queen\\\\src\\\\components\\\\WaiterView\\\\OrderReady.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Header from './Header';\nimport { Link } from \"react-router-dom\";\nimport { db } from \"../../firebase/config.js\";\nimport { collection, updateDoc, doc, orderBy, onSnapshot, query } from \"firebase/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Kitchen() {\n  _s();\n\n  const [orders, setOrders] = useState([]);\n\n  const updateOrder = async (id, status) => {\n    const orderDoc = doc(db, \"orders\", id);\n    const newFields = {\n      status: \"Delivered\"\n    };\n    await updateDoc(orderDoc, newFields);\n    console.log(newFields);\n  };\n\n  useEffect(() => {\n    const ordersCollectionRef = collection(db, \"orders\");\n    const q = query(ordersCollectionRef, orderBy(\"created\", \"desc\"));\n    const getOrders = onSnapshot(q, snapshot => setOrders(snapshot.docs.map(doc => ({ ...doc.data(),\n      id: doc.id\n    }))));\n    return getOrders;\n  }, []); // useEffect(() => {\n  //   const getOrders = async () => {\n  //     const data = await getDocs(ordersCollectionRef);\n  //     console.log(data);\n  //     setOrders(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\n  //   };\n  //   getOrders();\n  // }, []);\n\n  console.log(orders);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"menuUp\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"menuKitchen\",\n        children: \"Orders ready to serve\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ordersContainer\",\n      children: orders.length !== 0 && orders.map(order => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orderKitchen\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" Customer: \", order.Customer, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this), order.Order.map(element => {\n            return /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [element.qty, \" \", element.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 54,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 21\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Status: \", order.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btnReady\",\n            onClick: () => {\n              updateOrder(order.id, order.status);\n            },\n            children: \"Delivered\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"back ready\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"returnbtn\",\n        children: \"Return\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Kitchen, \"FvMuVccH6DXI6fqfhJiN/VsjZaw=\");\n\n_c = Kitchen;\n\nvar _c;\n\n$RefreshReg$(_c, \"Kitchen\");","map":{"version":3,"names":["React","useState","useEffect","Header","Link","db","collection","updateDoc","doc","orderBy","onSnapshot","query","Kitchen","orders","setOrders","updateOrder","id","status","orderDoc","newFields","console","log","ordersCollectionRef","q","getOrders","snapshot","docs","map","data","length","order","Customer","Order","element","qty","name"],"sources":["C:/Users/USER/Desktop/LIM017-burger-queen/burger_queen/src/components/WaiterView/OrderReady.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Header from './Header';\r\nimport { Link } from \"react-router-dom\";\r\nimport { db } from \"../../firebase/config.js\";\r\nimport { collection, updateDoc, doc, orderBy, onSnapshot, query } from \"firebase/firestore\";\r\n\r\nexport default function Kitchen() {\r\n  const [orders, setOrders] = useState([]);\r\n  \r\n\r\n  const updateOrder = async (id, status) => {\r\n    const orderDoc = doc(db, \"orders\", id);\r\n    const newFields = { status: \"Delivered\" };\r\n    await updateDoc(orderDoc, newFields);\r\n    console.log(newFields);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const ordersCollectionRef = collection(db, \"orders\");\r\n    const q = query(ordersCollectionRef, orderBy(\"created\", \"desc\"));\r\n  \r\n  const getOrders = onSnapshot(q,(snapshot) =>\r\n  setOrders(snapshot.docs.map((doc) => ({ ...doc.data(), id: doc.id })))\r\n  );\r\n  return getOrders\r\n  }, []);\r\n\r\n  // useEffect(() => {\r\n  //   const getOrders = async () => {\r\n  //     const data = await getDocs(ordersCollectionRef);\r\n  //     console.log(data);\r\n  //     setOrders(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n  //   };\r\n\r\n  //   getOrders();\r\n  // }, []);\r\n  console.log(orders);\r\n  return (\r\n    <div>\r\n      <header className=\"menuUp\">\r\n        <Header />\r\n        <h1 className=\"menuKitchen\">Orders ready to serve</h1>\r\n      </header>\r\n      <div className=\"ordersContainer\">\r\n        {orders.length !== 0 &&\r\n          orders.map((order) => {\r\n            return (\r\n              <div className=\"orderKitchen\">\r\n                <p> Customer: {order.Customer} </p>\r\n                {order.Order.map((element) => {\r\n                  return (\r\n                    <ul>\r\n                      {\" \"}\r\n                      <li>\r\n                        {element.qty} {element.name}\r\n                      </li>\r\n                    </ul>\r\n                  );\r\n                })}\r\n                <p>Status: {order.status}</p>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btnReady\"\r\n                  onClick={() => {\r\n                    updateOrder(order.id, order.status);\r\n                  }}\r\n                >\r\n                  Delivered\r\n                </button>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n      <div className=\"back ready\">    \r\n      <Link to=\"/\" className=\"returnbtn\">\r\n        Return\r\n      </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}