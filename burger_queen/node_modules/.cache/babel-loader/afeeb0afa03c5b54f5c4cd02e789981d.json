{"ast":null,"code":"import React from 'react';\nimport { TYPES } from './orderAction';\nimport products from '../../data/menu.json';\nexport const orderInitialState = {\n  products,\n  order: []\n};\nexport function orderReducer(state, action) {\n  switch (action.type) {\n    case TYPES.ADD_TO_ORDER:\n      {\n        let newItem = state.products.find(product => product.id === action.payload);\n        let itemInOrder = state.order.find(item => item.id === newItem.id);\n        return itemInOrder ? { ...state,\n          order: state.order.map(item => item.id === newItem.id ? { ...item,\n            quantity: item.quantity + 1\n          } : item)\n        } : { ...state,\n          order: [...state.order, { ...newItem,\n            quantity: 1\n          }]\n        };\n      }\n\n    case TYPES.REMOVE_ONE_FROM_ORDER:\n      {\n        let itemToDelete = state.order.find(item => item.id === action.payload);\n        return itemToDelete.quantity > 1 ? { ...state,\n          order: state.order.map(item => item.id === action.payload ? { ...item,\n            quantity: item.quantity - 1\n          } : item)\n        } : { ...state,\n          order: state.order.filter(item => item.id !== action.payload)\n        };\n      }\n\n    case TYPES.REMOVE_ALL_FROM_ORDER:\n      {\n        return { ...state,\n          order: state.order.filter(item => item.id !== action.payload)\n        };\n      }\n\n    case TYPES.ADITION_TOTAL_ORDER:\n      {\n        return state.props.quantity.reduce((acc, curr) => acc + parseInt(curr.price), 0);\n      }\n\n    case TYPES.CLEAR_ORDER:\n      return orderInitialState;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["React","TYPES","products","orderInitialState","order","orderReducer","state","action","type","ADD_TO_ORDER","newItem","find","product","id","payload","itemInOrder","item","map","quantity","REMOVE_ONE_FROM_ORDER","itemToDelete","filter","REMOVE_ALL_FROM_ORDER","ADITION_TOTAL_ORDER","props","reduce","acc","curr","parseInt","price","CLEAR_ORDER"],"sources":["C:/Users/USER/Desktop/LIM017-burger-queen/burger_queen/src/components/WaiterView/orderReducer.js"],"sourcesContent":["import React from 'react';\r\nimport { TYPES } from './orderAction';\r\nimport products from '../../data/menu.json';\r\n\r\nexport const orderInitialState = {products, order: [],};\r\n\r\nexport function orderReducer(state, action) {\r\n    switch(action.type) {\r\n        case TYPES.ADD_TO_ORDER:{\r\n        let newItem = state.products.find(\r\n        (product) => product.id === action.payload);\r\n            \r\n        let itemInOrder = state.order.find(item => item.id === newItem.id)\r\n        return itemInOrder ? {\r\n        ...state,\r\n        order: state.order.map(item => item.id === newItem.id ?  {...item, quantity: item.quantity + 1}: item),\r\n        }:{...state, order: [...state.order,{...newItem, quantity: 1}]}\r\n        }\r\n\r\n        case TYPES.REMOVE_ONE_FROM_ORDER:{\r\n        let itemToDelete = state.order.find(item => item.id === action.payload);\r\n        return itemToDelete.quantity > 1 ? {...state, order: state.order.map(item =>  item.id === action.payload\r\n        ? {...item, quantity: item.quantity - 1}\r\n        : item),\r\n        } : {...state, order: state.order.filter(item => item.id !== action.payload)}\r\n        }\r\n\r\n        case TYPES.REMOVE_ALL_FROM_ORDER:{\r\n        return { \r\n        ...state,\r\n        order: state.order.filter((item) => item.id !== action.payload),\r\n        }\r\n        }\r\n        \r\n        case TYPES.ADITION_TOTAL_ORDER:{\r\n            return state.props.quantity.reduce((acc, curr)=> acc + parseInt(curr.price), 0)\r\n            }\r\n\r\n        case TYPES.CLEAR_ORDER:\r\n        return orderInitialState;        \r\n        default:\r\n        return state;\r\n    }\r\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,eAAtB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEA,OAAO,MAAMC,iBAAiB,GAAG;EAACD,QAAD;EAAWE,KAAK,EAAE;AAAlB,CAA1B;AAEP,OAAO,SAASC,YAAT,CAAsBC,KAAtB,EAA6BC,MAA7B,EAAqC;EACxC,QAAOA,MAAM,CAACC,IAAd;IACI,KAAKP,KAAK,CAACQ,YAAX;MAAwB;QACxB,IAAIC,OAAO,GAAGJ,KAAK,CAACJ,QAAN,CAAeS,IAAf,CACbC,OAAD,IAAaA,OAAO,CAACC,EAAR,KAAeN,MAAM,CAACO,OADrB,CAAd;QAGA,IAAIC,WAAW,GAAGT,KAAK,CAACF,KAAN,CAAYO,IAAZ,CAAiBK,IAAI,IAAIA,IAAI,CAACH,EAAL,KAAYH,OAAO,CAACG,EAA7C,CAAlB;QACA,OAAOE,WAAW,GAAG,EACrB,GAAGT,KADkB;UAErBF,KAAK,EAAEE,KAAK,CAACF,KAAN,CAAYa,GAAZ,CAAgBD,IAAI,IAAIA,IAAI,CAACH,EAAL,KAAYH,OAAO,CAACG,EAApB,GAA0B,EAAC,GAAGG,IAAJ;YAAUE,QAAQ,EAAEF,IAAI,CAACE,QAAL,GAAgB;UAApC,CAA1B,GAAkEF,IAA1F;QAFc,CAAH,GAGhB,EAAC,GAAGV,KAAJ;UAAWF,KAAK,EAAE,CAAC,GAAGE,KAAK,CAACF,KAAV,EAAgB,EAAC,GAAGM,OAAJ;YAAaQ,QAAQ,EAAE;UAAvB,CAAhB;QAAlB,CAHF;MAIC;;IAED,KAAKjB,KAAK,CAACkB,qBAAX;MAAiC;QACjC,IAAIC,YAAY,GAAGd,KAAK,CAACF,KAAN,CAAYO,IAAZ,CAAiBK,IAAI,IAAIA,IAAI,CAACH,EAAL,KAAYN,MAAM,CAACO,OAA5C,CAAnB;QACA,OAAOM,YAAY,CAACF,QAAb,GAAwB,CAAxB,GAA4B,EAAC,GAAGZ,KAAJ;UAAWF,KAAK,EAAEE,KAAK,CAACF,KAAN,CAAYa,GAAZ,CAAgBD,IAAI,IAAKA,IAAI,CAACH,EAAL,KAAYN,MAAM,CAACO,OAAnB,GAC5E,EAAC,GAAGE,IAAJ;YAAUE,QAAQ,EAAEF,IAAI,CAACE,QAAL,GAAgB;UAApC,CAD4E,GAE5EF,IAFmD;QAAlB,CAA5B,GAGH,EAAC,GAAGV,KAAJ;UAAWF,KAAK,EAAEE,KAAK,CAACF,KAAN,CAAYiB,MAAZ,CAAmBL,IAAI,IAAIA,IAAI,CAACH,EAAL,KAAYN,MAAM,CAACO,OAA9C;QAAlB,CAHJ;MAIC;;IAED,KAAKb,KAAK,CAACqB,qBAAX;MAAiC;QACjC,OAAO,EACP,GAAGhB,KADI;UAEPF,KAAK,EAAEE,KAAK,CAACF,KAAN,CAAYiB,MAAZ,CAAoBL,IAAD,IAAUA,IAAI,CAACH,EAAL,KAAYN,MAAM,CAACO,OAAhD;QAFA,CAAP;MAIC;;IAED,KAAKb,KAAK,CAACsB,mBAAX;MAA+B;QAC3B,OAAOjB,KAAK,CAACkB,KAAN,CAAYN,QAAZ,CAAqBO,MAArB,CAA4B,CAACC,GAAD,EAAMC,IAAN,KAAcD,GAAG,GAAGE,QAAQ,CAACD,IAAI,CAACE,KAAN,CAAxD,EAAsE,CAAtE,CAAP;MACC;;IAEL,KAAK5B,KAAK,CAAC6B,WAAX;MACA,OAAO3B,iBAAP;;IACA;MACA,OAAOG,KAAP;EAlCJ;AAoCH"},"metadata":{},"sourceType":"module"}