{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\LIM017-burger-queen\\\\burger_queen\\\\src\\\\components\\\\WaiterView2\\\\kitchenButtons.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react/prop-types */\nimport React, { useState } from \"react\";\nimport { updateDoc, doc, deleteDoc } from \"firebase/firestore\";\nimport { db } from \"../../firebase/config\";\nimport Swal from \"sweetalert2\"; //Componente para los botones de los pedidos en cocina\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst KitchenButtons = _ref => {\n  _s();\n\n  let {\n    id,\n    status\n  } = _ref;\n  //Estado para cambiar el status de los pedidos\n  const [statusOrder, setStatusOrder] = useState(status); //Función para actualizar status del pedido\n\n  const updateStatus = async () => {\n    if (statusOrder === \"Listo\") {\n      return;\n    }\n\n    try {\n      await updateDoc(doc(db, \"Orders\", id), {\n        status: \"Listo\"\n      });\n      setStatusOrder(\"Listo\");\n    } catch (error) {\n      throw new Error(\"Error al actualizar el status\");\n    }\n  }; //Función para cerrar/borrar el pedido\n\n\n  const closeOrder = async id => {\n    try {\n      await deleteDoc(doc(db, \"Orders\", id));\n    } catch (error) {\n      throw new Error(\"Error al borrar el pedido\");\n    }\n  }; //Alerta para confirmar\n\n\n  const alert = () => {\n    Swal.fire({\n      title: \"¿Deseas cerrar el pedido?\",\n      icon: \"warning\",\n      showCancelButton: true,\n      confirmButtonColor: \"#3085d6\",\n      cancelButtonText: \"Cancelar\",\n      cancelButtonColor: \"#d33\",\n      confirmButtonText: \"Confirmar\"\n    }).then(result => {\n      if (result.isConfirmed) {\n        Swal.fire(\"Cerrado\", \"El pedido se ha completado correctamente\", \"success\");\n        closeOrder(id);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => updateStatus(),\n      children: statusOrder === \"Pendiente\" ? /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Pendiente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n        children: \"Listo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => alert(),\n      children: \"Cerrar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(KitchenButtons, \"95eBiOsbR+vdAcrYgVI0c8cHd9w=\");\n\n_c = KitchenButtons;\nexport default KitchenButtons;\n\nvar _c;\n\n$RefreshReg$(_c, \"KitchenButtons\");","map":{"version":3,"names":["React","useState","updateDoc","doc","deleteDoc","db","Swal","KitchenButtons","id","status","statusOrder","setStatusOrder","updateStatus","error","Error","closeOrder","alert","fire","title","icon","showCancelButton","confirmButtonColor","cancelButtonText","cancelButtonColor","confirmButtonText","then","result","isConfirmed"],"sources":["C:/Users/USER/Desktop/LIM017-burger-queen/burger_queen/src/components/WaiterView2/kitchenButtons.js"],"sourcesContent":["/* eslint-disable react/prop-types */\r\nimport React, { useState } from \"react\";\r\nimport { updateDoc, doc, deleteDoc } from \"firebase/firestore\";\r\nimport { db } from \"../../firebase/config\";\r\n\r\nimport Swal from \"sweetalert2\";\r\n\r\n//Componente para los botones de los pedidos en cocina\r\nconst KitchenButtons = ({ id, status }) => {\r\n  //Estado para cambiar el status de los pedidos\r\n  const [statusOrder, setStatusOrder] = useState(status);\r\n\r\n  //Función para actualizar status del pedido\r\n  const updateStatus = async () => {\r\n    if (statusOrder === \"Listo\") {\r\n      return;\r\n    }\r\n    try {\r\n      await updateDoc(doc(db, \"Orders\", id), {\r\n        status: \"Listo\",\r\n      });\r\n      setStatusOrder(\"Listo\");\r\n    } catch (error) {\r\n      throw new Error(\"Error al actualizar el status\");\r\n    }\r\n  };\r\n\r\n  //Función para cerrar/borrar el pedido\r\n  const closeOrder = async (id) => {\r\n    try {\r\n      await deleteDoc(doc(db, \"Orders\", id));\r\n    } catch (error) {\r\n      throw new Error(\"Error al borrar el pedido\");\r\n    }\r\n  };\r\n\r\n  //Alerta para confirmar\r\n  const alert = () => {\r\n    Swal.fire({\r\n      title: \"¿Deseas cerrar el pedido?\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonColor: \"#3085d6\",\r\n      cancelButtonText: \"Cancelar\",\r\n      cancelButtonColor: \"#d33\",\r\n      confirmButtonText: \"Confirmar\",\r\n    }).then((result) => {\r\n      if (result.isConfirmed) {\r\n        Swal.fire(\r\n          \"Cerrado\",\r\n          \"El pedido se ha completado correctamente\",\r\n          \"success\"\r\n        );\r\n        closeOrder(id);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <section>\r\n    <div onClick={() => updateStatus()}>\r\n      {statusOrder === \"Pendiente\" ? (\r\n        <button>Pendiente</button>\r\n      ) : (\r\n        <button>Listo</button>\r\n      )}\r\n    </div>\r\n    <button onClick={() => alert()}>\r\n      Cerrar\r\n    </button>\r\n  </section>\r\n);\r\n};\r\n\r\n\r\nexport default KitchenButtons;"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,SAAzB,QAA0C,oBAA1C;AACA,SAASC,EAAT,QAAmB,uBAAnB;AAEA,OAAOC,IAAP,MAAiB,aAAjB,C,CAEA;;;;AACA,MAAMC,cAAc,GAAG,QAAoB;EAAA;;EAAA,IAAnB;IAAEC,EAAF;IAAMC;EAAN,CAAmB;EACzC;EACA,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCV,QAAQ,CAACQ,MAAD,CAA9C,CAFyC,CAIzC;;EACA,MAAMG,YAAY,GAAG,YAAY;IAC/B,IAAIF,WAAW,KAAK,OAApB,EAA6B;MAC3B;IACD;;IACD,IAAI;MACF,MAAMR,SAAS,CAACC,GAAG,CAACE,EAAD,EAAK,QAAL,EAAeG,EAAf,CAAJ,EAAwB;QACrCC,MAAM,EAAE;MAD6B,CAAxB,CAAf;MAGAE,cAAc,CAAC,OAAD,CAAd;IACD,CALD,CAKE,OAAOE,KAAP,EAAc;MACd,MAAM,IAAIC,KAAJ,CAAU,+BAAV,CAAN;IACD;EACF,CAZD,CALyC,CAmBzC;;;EACA,MAAMC,UAAU,GAAG,MAAOP,EAAP,IAAc;IAC/B,IAAI;MACF,MAAMJ,SAAS,CAACD,GAAG,CAACE,EAAD,EAAK,QAAL,EAAeG,EAAf,CAAJ,CAAf;IACD,CAFD,CAEE,OAAOK,KAAP,EAAc;MACd,MAAM,IAAIC,KAAJ,CAAU,2BAAV,CAAN;IACD;EACF,CAND,CApByC,CA4BzC;;;EACA,MAAME,KAAK,GAAG,MAAM;IAClBV,IAAI,CAACW,IAAL,CAAU;MACRC,KAAK,EAAE,2BADC;MAERC,IAAI,EAAE,SAFE;MAGRC,gBAAgB,EAAE,IAHV;MAIRC,kBAAkB,EAAE,SAJZ;MAKRC,gBAAgB,EAAE,UALV;MAMRC,iBAAiB,EAAE,MANX;MAORC,iBAAiB,EAAE;IAPX,CAAV,EAQGC,IARH,CAQSC,MAAD,IAAY;MAClB,IAAIA,MAAM,CAACC,WAAX,EAAwB;QACtBrB,IAAI,CAACW,IAAL,CACE,SADF,EAEE,0CAFF,EAGE,SAHF;QAKAF,UAAU,CAACP,EAAD,CAAV;MACD;IACF,CAjBD;EAkBD,CAnBD;;EAqBA,oBACE;IAAA,wBACA;MAAK,OAAO,EAAE,MAAMI,YAAY,EAAhC;MAAA,UACGF,WAAW,KAAK,WAAhB,gBACC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADD,gBAGC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAJJ;MAAA;MAAA;MAAA;IAAA,QADA,eAQA;MAAQ,OAAO,EAAE,MAAMM,KAAK,EAA5B;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QARA;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAcD,CAhED;;GAAMT,c;;KAAAA,c;AAmEN,eAAeA,cAAf"},"metadata":{},"sourceType":"module"}