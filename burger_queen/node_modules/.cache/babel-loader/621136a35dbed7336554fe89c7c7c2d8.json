{"ast":null,"code":"import { TYPES } from './shoppingAction';\nimport products from '../../data/menu.json';\nexport const shoppingInitialState = {\n  products,\n  //: [\n  // {id: 1, name: \"Café americano\", price: 5},\n  // {id: 2, name: \"Jugo de frutas\", price: 7},\n  // {id: 3, name: \"Hamburguesa simple\", price: 10},\n  // {id: 4, name: \"Hamburguesa doble\", price: 15},\n  // {id: 5, name: \"Papas fritas\", price: 5},\n  // ],\n  cart: []\n};\nexport function shoppingReducer(state, action) {\n  switch (action.type) {\n    case TYPES.ADD_TO_CART:\n      {\n        let newItem = state.products.find(product => product.id === action.payload); //console.log(newItem)\n\n        let itemInCart = state.cart.find(item => item.id === newItem.id);\n        return itemInCart ? { ...state,\n          cart: state.cart.map(item => item.id === newItem.id ? { ...item,\n            quantity: item.quantity + 1\n          } : item)\n        } : { ...state,\n          cart: [...state.cart, { ...newItem,\n            quantity: 1\n          }]\n        };\n      }\n\n    case TYPES.REMOVE_ONE_FROM_CART:\n      {\n        let itemToDelete = state.cart.find(item => item.id === action.payload);\n        return itemToDelete.quantity > 1 ? { ...state,\n          cart: state.cart.map(item => item.id === action.payload ? { ...item,\n            quantity: item.quantity - 1\n          } : item)\n        } : { ...state,\n          cart: state.cart.filter(item => item.id !== action.payload)\n        };\n      }\n\n    case TYPES.REMOVE_ALL_FROM_CART:\n      {\n        return { ...state,\n          cart: state.cart.filter(item => item.id !== action.payload)\n        };\n      }\n\n    case TYPES.CLEAR_CART:\n      return shoppingInitialState;\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["TYPES","products","shoppingInitialState","cart","shoppingReducer","state","action","type","ADD_TO_CART","newItem","find","product","id","payload","itemInCart","item","map","quantity","REMOVE_ONE_FROM_CART","itemToDelete","filter","REMOVE_ALL_FROM_CART","CLEAR_CART"],"sources":["C:/Users/USER/Desktop/LIM017-burger-queen/burger_queen/src/components/WaiterView/shoppingReducer.js"],"sourcesContent":["import { TYPES } from './shoppingAction';\r\nimport products from '../../data/menu.json';\r\n\r\nexport const shoppingInitialState = {\r\nproducts, //: [\r\n// {id: 1, name: \"Café americano\", price: 5},\r\n// {id: 2, name: \"Jugo de frutas\", price: 7},\r\n// {id: 3, name: \"Hamburguesa simple\", price: 10},\r\n// {id: 4, name: \"Hamburguesa doble\", price: 15},\r\n// {id: 5, name: \"Papas fritas\", price: 5},\r\n// ],\r\ncart: [],\r\n};\r\n\r\nexport function shoppingReducer(state, action) {\r\n    switch(action.type) {\r\n        case TYPES.ADD_TO_CART:{\r\n            let newItem = state.products.find(\r\n                (product) => product.id === action.payload);\r\n            //console.log(newItem)\r\n            let itemInCart = state.cart.find(item => item.id === newItem.id)\r\n\r\n            return itemInCart ? {\r\n                ...state,\r\n                cart: state.cart.map(item => item.id === newItem.id ?  {...item, quantity: item.quantity + 1}: item),\r\n            }\r\n            :{\r\n                ...state,\r\n                 cart: [...state.cart,{...newItem, quantity: 1}]\r\n            }\r\n        }\r\n        case TYPES.REMOVE_ONE_FROM_CART:{\r\n            let itemToDelete = state.cart.find(item => item.id === action.payload);\r\n           return itemToDelete.quantity > 1 ?  {\r\n            ...state,\r\n            cart: state.cart.map(item =>  item.id === action.payload\r\n                ? {...item, quantity: item.quantity - 1}\r\n                : item),\r\n           } : {\r\n            ...state,\r\n            cart: state.cart.filter(item => item.id !== action.payload)\r\n           }\r\n        }\r\n        case TYPES.REMOVE_ALL_FROM_CART:{\r\n            return { \r\n                ...state,\r\n                cart: state.cart.filter((item) => item.id !== action.payload),\r\n            }\r\n        }\r\n        case TYPES.CLEAR_CART:\r\n            return shoppingInitialState;        \r\n        default:\r\n            return state;\r\n    }\r\n}"],"mappings":"AAAA,SAASA,KAAT,QAAsB,kBAAtB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEA,OAAO,MAAMC,oBAAoB,GAAG;EACpCD,QADoC;EAC1B;EACV;EACA;EACA;EACA;EACA;EACA;EACAE,IAAI,EAAE;AAR8B,CAA7B;AAWP,OAAO,SAASC,eAAT,CAAyBC,KAAzB,EAAgCC,MAAhC,EAAwC;EAC3C,QAAOA,MAAM,CAACC,IAAd;IACI,KAAKP,KAAK,CAACQ,WAAX;MAAuB;QACnB,IAAIC,OAAO,GAAGJ,KAAK,CAACJ,QAAN,CAAeS,IAAf,CACTC,OAAD,IAAaA,OAAO,CAACC,EAAR,KAAeN,MAAM,CAACO,OADzB,CAAd,CADmB,CAGnB;;QACA,IAAIC,UAAU,GAAGT,KAAK,CAACF,IAAN,CAAWO,IAAX,CAAgBK,IAAI,IAAIA,IAAI,CAACH,EAAL,KAAYH,OAAO,CAACG,EAA5C,CAAjB;QAEA,OAAOE,UAAU,GAAG,EAChB,GAAGT,KADa;UAEhBF,IAAI,EAAEE,KAAK,CAACF,IAAN,CAAWa,GAAX,CAAeD,IAAI,IAAIA,IAAI,CAACH,EAAL,KAAYH,OAAO,CAACG,EAApB,GAA0B,EAAC,GAAGG,IAAJ;YAAUE,QAAQ,EAAEF,IAAI,CAACE,QAAL,GAAgB;UAApC,CAA1B,GAAkEF,IAAzF;QAFU,CAAH,GAIhB,EACG,GAAGV,KADN;UAEIF,IAAI,EAAE,CAAC,GAAGE,KAAK,CAACF,IAAV,EAAe,EAAC,GAAGM,OAAJ;YAAaQ,QAAQ,EAAE;UAAvB,CAAf;QAFV,CAJD;MAQH;;IACD,KAAKjB,KAAK,CAACkB,oBAAX;MAAgC;QAC5B,IAAIC,YAAY,GAAGd,KAAK,CAACF,IAAN,CAAWO,IAAX,CAAgBK,IAAI,IAAIA,IAAI,CAACH,EAAL,KAAYN,MAAM,CAACO,OAA3C,CAAnB;QACD,OAAOM,YAAY,CAACF,QAAb,GAAwB,CAAxB,GAA6B,EACnC,GAAGZ,KADgC;UAEnCF,IAAI,EAAEE,KAAK,CAACF,IAAN,CAAWa,GAAX,CAAeD,IAAI,IAAKA,IAAI,CAACH,EAAL,KAAYN,MAAM,CAACO,OAAnB,GACxB,EAAC,GAAGE,IAAJ;YAAUE,QAAQ,EAAEF,IAAI,CAACE,QAAL,GAAgB;UAApC,CADwB,GAExBF,IAFA;QAF6B,CAA7B,GAKH,EACH,GAAGV,KADA;UAEHF,IAAI,EAAEE,KAAK,CAACF,IAAN,CAAWiB,MAAX,CAAkBL,IAAI,IAAIA,IAAI,CAACH,EAAL,KAAYN,MAAM,CAACO,OAA7C;QAFH,CALJ;MASF;;IACD,KAAKb,KAAK,CAACqB,oBAAX;MAAgC;QAC5B,OAAO,EACH,GAAGhB,KADA;UAEHF,IAAI,EAAEE,KAAK,CAACF,IAAN,CAAWiB,MAAX,CAAmBL,IAAD,IAAUA,IAAI,CAACH,EAAL,KAAYN,MAAM,CAACO,OAA/C;QAFH,CAAP;MAIH;;IACD,KAAKb,KAAK,CAACsB,UAAX;MACI,OAAOpB,oBAAP;;IACJ;MACI,OAAOG,KAAP;EArCR;AAuCH"},"metadata":{},"sourceType":"module"}