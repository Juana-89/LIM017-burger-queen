{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\USER\\\\Desktop\\\\LIM017-burger-queen\\\\burger_queen\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\LIM017-burger-queen\\\\burger_queen\\\\src\\\\components\\\\PrivateRoute.js\";\n\nimport React from 'react';\nimport { Navigate } from 'react-router-dom';\nimport { useAuth } from '../context/authContext'; // Archivo para que los componentes waiter, kitchen y orders sean privadas a menos que estés logueado\n\nvar auth;\nauth = true;\nauth = null; // const PrivateRoute = ({ component: Component }) => {\n//     return useAuth ? <Component /> : <Navigate to=\"/login\" />;\n//  };\n// export default PrivateRoute;\n\nvar PrivateRoute = function PrivateRoute(_ref) {\n  var children = _ref.children;\n  var dispatch = useDispatch();\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      component = _useState2[0],\n      setComponent = _useState2[1];\n\n  useEffect(function () {\n    useAuth().then(function (data) {\n      if (data.useAuth) {\n        dispatch(loginAction(data.usuario, data.permisos));\n        setComponent(children);\n      } else {\n        setComponent( /*#__PURE__*/React.createElement(Navigate, {\n          to: \"/login\",\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 29,\n            columnNumber: 30\n          }\n        }));\n      }\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [children, dispatch]);\n  return component;\n};\n\nexport default PrivateRoute;","map":{"version":3,"names":["React","Navigate","useAuth","auth","PrivateRoute","children","dispatch","useDispatch","useState","component","setComponent","useEffect","then","data","loginAction","usuario","permisos"],"sources":["C:/Users/USER/Desktop/LIM017-burger-queen/burger_queen/src/components/PrivateRoute.js"],"sourcesContent":["import React from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport {useAuth} from '../context/authContext'\r\n// Archivo para que los componentes waiter, kitchen y orders sean privadas a menos que estés logueado\r\nlet auth;\r\nauth= true;\r\nauth=null;\r\n\r\n// const PrivateRoute = ({ component: Component }) => {\r\n\r\n//     return useAuth ? <Component /> : <Navigate to=\"/login\" />;\r\n//  };\r\n\r\n// export default PrivateRoute;\r\n\r\nconst PrivateRoute = ({ children }) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [component, setComponent] = useState([]);\r\n    \r\n    useEffect(() => {\r\n        useAuth().then( data => {\r\n            if( data.useAuth ){\r\n                dispatch(loginAction(data.usuario, data.permisos));\r\n                setComponent( children );\r\n            }\r\n            else{\r\n               setComponent( <Navigate to=\"/login\" /> )\r\n            }\r\n        } );\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [children, dispatch]);\r\n\r\n    return component;    \r\n}\r\n\r\nexport default PrivateRoute"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,SAAQC,OAAR,QAAsB,wBAAtB,C,CACA;;AACA,IAAIC,IAAJ;AACAA,IAAI,GAAE,IAAN;AACAA,IAAI,GAAC,IAAL,C,CAEA;AAEA;AACA;AAEA;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAAkB;EAAA,IAAfC,QAAe,QAAfA,QAAe;EAEnC,IAAMC,QAAQ,GAAGC,WAAW,EAA5B;;EAFmC,gBAIDC,QAAQ,CAAC,EAAD,CAJP;EAAA;EAAA,IAI5BC,SAJ4B;EAAA,IAIjBC,YAJiB;;EAMnCC,SAAS,CAAC,YAAM;IACZT,OAAO,GAAGU,IAAV,CAAgB,UAAAC,IAAI,EAAI;MACpB,IAAIA,IAAI,CAACX,OAAT,EAAkB;QACdI,QAAQ,CAACQ,WAAW,CAACD,IAAI,CAACE,OAAN,EAAeF,IAAI,CAACG,QAApB,CAAZ,CAAR;QACAN,YAAY,CAAEL,QAAF,CAAZ;MACH,CAHD,MAII;QACDK,YAAY,eAAE,oBAAC,QAAD;UAAU,EAAE,EAAC,QAAb;UAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAAA,EAAF,CAAZ;MACF;IACJ,CARD,EADY,CAUhB;EACC,CAXQ,EAWN,CAACL,QAAD,EAAWC,QAAX,CAXM,CAAT;EAaA,OAAOG,SAAP;AACH,CApBD;;AAsBA,eAAeL,YAAf"},"metadata":{},"sourceType":"module"}