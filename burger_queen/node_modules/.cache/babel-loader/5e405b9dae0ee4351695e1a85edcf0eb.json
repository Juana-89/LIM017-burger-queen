{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\LIM017-burger-queen\\\\burger_queen\\\\src\\\\components\\\\Waiter_View\\\\context.js\",\n    _s = $RefreshSig$();\n\n// import { React, useState } from 'react';\nimport React, { useState } from 'react';\nimport { db } from '../../firebase/config';\nimport { collection, addDoc } from 'firebase/firestore'; // import styles from '../css/orden.module.css';\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/React.createContext();\n\nconst Provider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  // estado para nombre cliente y mesa\n  const [name, setName] = useState('');\n  const [table, setTable] = useState('');\n  const [count, setCount] = useState(1); // para nombre cliente y mesa\n\n  const dataclient = e => {\n    if (e.target.name === 'name') {\n      setName(e.target.value);\n    } else if (e.target.name === 'table') {\n      setTable(e.target.value);\n    }\n  }; // estado para añadir productos a sección orden\n\n\n  const [product, setProduct] = useState([]); //para añadir productos\n\n  const increase = e => {\n    //se crea variable que representa un producto ya existente en el carro\n    const productExist = product.find(item => item.id === e.id);\n\n    if (productExist) {\n      setProduct(product.map(item => // si ya existe un producto en el carro  verifico que este producto sea igual al elemento nuevo que quiero agregar\n      item.id === e.id // si es verdadero se crea un nuevo array con el producto existente que contiene la propiedad quant\n      ? { ...productExist,\n        quant: productExist.quant + 1\n      } : item));\n    } else {\n      // si no existe un producto en el carro se agrega y defino que su cantidad es igual a 1\n      setProduct([...product, { ...e,\n        quant: 1\n      }]);\n    }\n  }; // para restar productos\n\n\n  const decrease = e => {\n    const productExist = product.find(item => item.id === e.id); // si la cantidad de producto existente es igual a 1\n\n    if (productExist.quant === 1) {\n      // si existe un producto se elimina del carro\n      setProduct(product.filter(item => item.id !== e.id));\n    } else {\n      setProduct(product.map(item => item.id === e.id ? { ...productExist,\n        quant: productExist.quant - 1\n      } : item));\n    }\n  }; //para eliminar producto\n\n\n  const remove = e => {\n    const productExist = product.find(item => item.id === e.id);\n\n    if (productExist.quant) {\n      setProduct(product.filter(item => item.id !== e.id));\n    }\n  }; // para suma total productos\n\n\n  const total = product.reduce((total, item) => total + item.price * item.quant, 0); //para guardar pedido en firestore\n\n  const submitOrder = async () => {\n    try {\n      await addDoc(collection(db, 'Order'), {\n        client: name,\n        table: table,\n        count: count,\n        order: product,\n        total: total,\n        date: new Date()\n      });\n    } catch (error) {\n      throw new Error(\"No se pudo guardar el pedido\");\n    }\n  };\n\n  const props = {\n    name,\n    setName,\n    table,\n    setTable,\n    setProduct,\n    dataclient,\n    product,\n    increase,\n    decrease,\n    remove,\n    total,\n    count,\n    setCount,\n    submitOrder\n  };\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: props,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 111,\n    columnNumber: 10\n  }, this);\n};\n\n_s(Provider, \"UgzcuUg4am5Pff6xKcb+j1tWWU4=\");\n\n_c = Provider;\nexport { Context, Provider };\n\nvar _c;\n\n$RefreshReg$(_c, \"Provider\");","map":{"version":3,"names":["React","useState","db","collection","addDoc","Context","createContext","Provider","children","name","setName","table","setTable","count","setCount","dataclient","e","target","value","product","setProduct","increase","productExist","find","item","id","map","quant","decrease","filter","remove","total","reduce","price","submitOrder","client","order","date","Date","error","Error","props"],"sources":["C:/Users/USER/Desktop/LIM017-burger-queen/burger_queen/src/components/Waiter_View/context.js"],"sourcesContent":["// import { React, useState } from 'react';\r\nimport React, { useState } from 'react';\r\nimport { db } from '../../firebase/config';\r\nimport { collection, addDoc } from 'firebase/firestore';\r\n// import styles from '../css/orden.module.css';\r\n\r\nconst Context = React.createContext();\r\n\r\nconst Provider = ({ children }) => {\r\n  // estado para nombre cliente y mesa\r\n  const [name, setName] = useState('');\r\n  const [table, setTable] = useState('');\r\n  const [count, setCount] = useState(1);\r\n\r\n  // para nombre cliente y mesa\r\n  const dataclient = (e) => {\r\n    if (e.target.name === 'name') {\r\n      setName(e.target.value);\r\n    } else if (e.target.name === 'table') {\r\n      setTable(e.target.value);\r\n    }\r\n  };\r\n\r\n  // estado para añadir productos a sección orden\r\n  const [product, setProduct] = useState([]);\r\n\r\n  //para añadir productos\r\n  const increase = (e) => {\r\n    //se crea variable que representa un producto ya existente en el carro\r\n    const productExist = product.find((item) => item.id === e.id); \r\n    if (productExist) {\r\n      setProduct(\r\n        product.map((item) =>\r\n        // si ya existe un producto en el carro  verifico que este producto sea igual al elemento nuevo que quiero agregar\r\n          item.id === e.id\r\n          // si es verdadero se crea un nuevo array con el producto existente que contiene la propiedad quant\r\n            ? { ...productExist, quant: productExist.quant + 1 }\r\n            : item\r\n        )\r\n      );\r\n    } else {  // si no existe un producto en el carro se agrega y defino que su cantidad es igual a 1\r\n      setProduct([...product, { ...e, quant: 1 }]);\r\n    }\r\n  };\r\n  \r\n  // para restar productos\r\n  const decrease = (e) => {\r\n    const productExist = product.find((item) => item.id === e.id);\r\n    // si la cantidad de producto existente es igual a 1\r\n    if (productExist.quant === 1) {\r\n      // si existe un producto se elimina del carro\r\n      setProduct(product.filter((item) => item.id !== e.id));\r\n    } else {\r\n      setProduct(\r\n        product.map((item) =>\r\n          item.id === e.id\r\n            ? { ...productExist, quant: productExist.quant - 1 }\r\n            : item\r\n        )\r\n      );\r\n    }\r\n  };\r\n\r\n  //para eliminar producto\r\n  const remove = (e) => {\r\n    const productExist = product.find((item) => item.id === e.id);\r\n    if (productExist.quant) {\r\n      setProduct(product.filter((item) => item.id !== e.id));\r\n    }\r\n  };\r\n\r\n  // para suma total productos\r\n  const total = product.reduce(\r\n    (total, item) => total + item.price * item.quant,\r\n    0\r\n  );\r\n\r\n  //para guardar pedido en firestore\r\n  const submitOrder = async () => {\r\n    try {\r\n      await addDoc(collection(db, 'Order'), {\r\n        client: name,\r\n        table: table,\r\n        count: count,\r\n        order: product,\r\n        total: total,\r\n        date: new Date(),\r\n      })\r\n    } catch (error) {\r\n      throw new Error(\"No se pudo guardar el pedido\");\r\n    }\r\n  };\r\n\r\n  const props = {\r\n    name,\r\n    setName,\r\n    table,\r\n    setTable,\r\n    setProduct,\r\n    dataclient,\r\n    product,\r\n    increase,\r\n    decrease,\r\n    remove,\r\n    total,\r\n    count,\r\n    setCount,\r\n    submitOrder,\r\n  };\r\n\r\n  return <Context.Provider value={props}>{children}</Context.Provider>;\r\n};\r\n\r\nexport { Context, Provider };"],"mappings":"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"},"metadata":{},"sourceType":"module"}