{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\LIM017-burger-queen\\\\burger_queen\\\\src\\\\componentes\\\\Kitchen.js\",\n    _s = $RefreshSig$();\n\nimport SmallLogo from \"../componentes/SmallLogo.js\";\nimport { Link } from \"react-router-dom\";\nimport { db } from \"../firebase/config.js\";\nimport { collection, updateDoc, doc, orderBy, onSnapshot, query } from \"firebase/firestore\";\nimport { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Kitchen() {\n  _s();\n\n  const [orders, setOrders] = useState([]);\n\n  const updateOrder = async (id, status) => {\n    const orderDoc = doc(db, \"orders\", id);\n    const newFields = {\n      status: \"Ready\"\n    };\n    await updateDoc(orderDoc, newFields);\n    console.log(newFields);\n  };\n\n  useEffect(() => {\n    const ordersCollectionRef = collection(db, \"orders\");\n    const q = query(ordersCollectionRef, orderBy(\"created\", \"desc\"));\n    const getOrders = onSnapshot(q, snapshot => setOrders(snapshot.docs.map(doc => ({ ...doc.data(),\n      id: doc.id\n    }))));\n    return getOrders;\n  }, []); // useEffect(() => {\n  //   const getOrders = async () => {\n  //     const data = await getDocs(ordersCollectionRef);\n  //     console.log(data);\n  //     setOrders(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\n  //   };\n  //   getOrders();\n  // }, []);\n\n  console.log(orders);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"menuUp\",\n      children: [/*#__PURE__*/_jsxDEV(SmallLogo, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"menuKitchen\",\n        children: \"Kitchen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ordersContainer\",\n      children: orders.length !== 0 && orders.map(order => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orderKitchen\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\" Customer: \", order.Customer, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 17\n          }, this), order.Order.map(element => {\n            return /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [element.qty, \" \", element.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 21\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Status: \", order.status]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btnReady\",\n            onClick: () => {\n              updateOrder(order.id, order.status);\n            },\n            children: \"Ready to serve\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), \"|\", \" \", /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"back ready\",\n      children: /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"returnbtn\",\n        children: \"Return\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Kitchen, \"FvMuVccH6DXI6fqfhJiN/VsjZaw=\");\n\n_c = Kitchen;\n\nvar _c;\n\n$RefreshReg$(_c, \"Kitchen\");","map":{"version":3,"names":["SmallLogo","Link","db","collection","updateDoc","doc","orderBy","onSnapshot","query","useState","useEffect","Kitchen","orders","setOrders","updateOrder","id","status","orderDoc","newFields","console","log","ordersCollectionRef","q","getOrders","snapshot","docs","map","data","length","order","Customer","Order","element","qty","name"],"sources":["C:/Users/USER/Desktop/LIM017-burger-queen/burger_queen/src/componentes/Kitchen.js"],"sourcesContent":["import SmallLogo from \"../componentes/SmallLogo.js\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { db } from \"../firebase/config.js\";\r\nimport {\r\n  collection,\r\n  updateDoc,\r\n  doc,\r\n  orderBy,\r\n  onSnapshot,\r\n  query,\r\n} from \"firebase/firestore\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport default function Kitchen() {\r\n  const [orders, setOrders] = useState([]);\r\n  \r\n\r\n  const updateOrder = async (id, status) => {\r\n    const orderDoc = doc(db, \"orders\", id);\r\n    const newFields = { status: \"Ready\" };\r\n    await updateDoc(orderDoc, newFields);\r\n    console.log(newFields);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const ordersCollectionRef = collection(db, \"orders\");\r\n    const q = query(ordersCollectionRef, orderBy(\"created\", \"desc\"));\r\n\r\n    const getOrders = onSnapshot(q, (snapshot) =>\r\n      setOrders(snapshot.docs.map((doc) => ({ ...doc.data(), id: doc.id })))\r\n    ); \r\n    return getOrders;\r\n  }, []) \r\n\r\n  // useEffect(() => {\r\n  //   const getOrders = async () => {\r\n  //     const data = await getDocs(ordersCollectionRef);\r\n  //     console.log(data);\r\n  //     setOrders(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\r\n  //   };\r\n\r\n  //   getOrders();\r\n  // }, []);\r\n  console.log(orders);\r\n  return (\r\n    <div>\r\n      <header className=\"menuUp\">\r\n        <SmallLogo />\r\n        <h1 className=\"menuKitchen\">Kitchen</h1>\r\n      </header>\r\n      <div className=\"ordersContainer\">\r\n        {orders.length !== 0 &&\r\n          orders.map((order) => {\r\n            return (\r\n              <div className=\"orderKitchen\">\r\n                <p> Customer: {order.Customer} </p>\r\n                {order.Order.map((element) => {\r\n                  return (\r\n                    <ul>\r\n                      {\" \"}\r\n                      <li>\r\n                        {element.qty} {element.name}\r\n                      </li>\r\n                    </ul>\r\n                  );\r\n                })}\r\n                <p>Status: {order.status}</p>\r\n                <button\r\n                  type=\"button\"\r\n                  className={\"btnReady\"}\r\n                  onClick={() => {\r\n                    updateOrder(order.id, order.status);\r\n                  }}\r\n                >\r\n                  Ready to serve\r\n                </button>\r\n              </div>\r\n            );\r\n          })}\r\n      </div>\r\n      |{\" \"}\r\n      <div className=\"back ready\">\r\n        <Link to=\"/\" className=\"returnbtn\">\r\n          Return\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}